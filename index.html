<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tip Calculator</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <header>
        <div>
            <h3>ITMD 4/541 - Lab 3 - Nandi Patel</h3>
            <h1>Tip Calculator</h1>
        </div>
    </header>

    <div class="cal_box">
        <div id="fields">
            <form id="myForm">
                <label for="billtotal">Bill Total:</label>
                <input type="text" id="billtotal" name="billtotal">

                <label for="tip">Tip:</label>
                <input type="range" class="tip" name="tip" min="0" max="100" value="0">

                <label for="tip_per">Tip Percentage:</label>
                <input type="text" id="tip_per" name="tip_per" disabled>

                <label for="Tip Amount">Tip Amount:</label>
                <input type="text" id="tip_amt" name="tip_amt" disabled>

                <label for="">Total Bill with Tip:</label>
                <input type="text" id="f_total" name="f_total" disabled>

            </form>
        </div>
    </div>

    <script>
        // EVENT HANDLER FOR CALCULATE
        //grabbing input
        bt = document.getElementById("billtotal").value;
        rt = document.getElementsByClassName("tip").value;
        //changing string to float
        var s_total = parseFloat(bt);
        var r_tip = parseFloat(rt)

        //CHANGE FORM
        const tip_bar = document.querySelector('.tip');
        tip_bar.addEventListener('change', updateValue)
        function updateValue(e){
            r_tip.textContent = e.target.tip_per;
            document.getElementById("tip_per").value = r_tip;
        }
        //print tip in tip per text box

        //validation & calculation 
        if (s_total > 0 && r_tip >= 0){
            cal_tip = s_total * r_tip;
            document.getElementById("tip_amt").value = cal_tip;
            document.getElementById("f_total").value = (f_total.toFixed(2));
        }
        else{
            alert("Try again! Try clicking enter.")
        }
    </script>
        
</body>
</html>

